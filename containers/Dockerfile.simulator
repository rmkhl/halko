FROM debian:bookworm-slim

RUN apt-get update && apt-get install -y ca-certificates && rm -rf /var/lib/apt/lists/*

WORKDIR /app

COPY ../bin/simulator /app/simulator

RUN chmod +x /app/simulator

# Dual-port setup: 8087 for Shelly API, 8088 for Sensor Unit API
EXPOSE 8087 8088

ENTRYPOINT ["./simulator"]
